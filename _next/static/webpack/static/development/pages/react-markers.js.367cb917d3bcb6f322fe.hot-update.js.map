{"version":3,"file":"static/webpack/static/development/pages/react-markers.js.367cb917d3bcb6f322fe.hot-update.js","sources":["webpack:///./pages/react-markers.js"],"sourcesContent":["// @flow\n\n/**\n * <!-- {\"order\": 6} -->\n *\n * # React markers\n *\n * Fast, rerendering of markers is not occured during move/zoom operation\n * _(if you dont update state on bounds, etc change events, [see idle quote](/events))_\n *\n * To add custom React marker on map, you need 2 controls _Overlay_ and _Marker_.\n *\n * [Overlay](https://developers.google.com/maps/documentation/javascript/examples/overlay-simple)\n * is needed to place React components inside.\n *\n * _Marker_ is a wrapper around your component\n * to pass _lat_, _lng_ into _Overlay_ in a type safe way wihout touching props of your component.\n *\n * Each marker is rendered inside placeholder with _{ width:0; height:0; display: grid }_ style.\n * This allows to select origin point of marker using only its\n * own css _place-self_, _align-self_, _justify-self_ properties.\n * Also _{ position: absolute }_ on a holder allows everything if grid positioning is not enough.\n *\n * To simplify markers positioning you can use _debug_ propery of _Overlay_ element.\n * It will show exact origin point position.\n *\n * See below how to use _Overlay_ and _Marker_.\n *\n * Also play with _debug_ property to see how you can use\n * css _alignSelf_ , _justifySelf_, _placeSelf_ properties to align different kind of markers.\n * _(For markers with \"fun\" shape use _position:relative_ and css left, right properties)_\n *\n * > _debug_ property won't work in production builds.\n *\n */\n\nimport * as React from 'react';\nimport { Map, Overlay, Marker } from 'rgm';\nimport { Flex, Box } from 'react-system';\nimport { useGoogleApiLoader } from '../dev-src/hooks';\nimport { Ratio, Checkbox, Select } from '../dev-src/controls';\n\n// https://developers.google.com/maps/documentation/javascript/reference/map#MapOptions\nconst MAP_OPTIONS = {\n  zoom: 9,\n  center: {\n    lat: 59.936,\n    lng: 30.314,\n  },\n  // disable cmd-zoom and 2 fingers zoom I personally dislike it\n  gestureHandling: 'greedy',\n  clickableIcons: false,\n};\n\nexport default function MarkerPage() {\n  const api = useGoogleApiLoader();\n\n  const [debug, setDebug] = React.useState(true);\n  const [alignSelf, setAlignSelf] = React.useState('end');\n  const [justifySelf, setJustifySelf] = React.useState('center');\n\n  return (\n    <div>\n      <Flex p={3} alignItems=\"baseline\">\n        <Checkbox id=\"debug\" value={debug} onChange={setDebug}>\n          Debug\n        </Checkbox>\n        <Box width={'8px'} />\n        <Select\n          value={alignSelf}\n          onChange={setAlignSelf}\n          options={['start', 'center', 'end']}\n        />\n        <Box width={'8px'} />\n        <Select\n          value={justifySelf}\n          onChange={setJustifySelf}\n          options={['start', 'center', 'end']}\n        />\n      </Flex>\n\n      <Ratio value={3 / 4}>\n        {api && (\n          <Map api={api} options={MAP_OPTIONS}>\n            <Overlay debug={debug}>\n              <Marker lat={MAP_OPTIONS.center.lat} lng={MAP_OPTIONS.center.lng}>\n                <MarkerBottom\n                  style={{\n                    alignSelf,\n                    justifySelf,\n                    // easier to use placeSelf\n                  }}\n                  size={48}\n                  color={'red'}\n                />\n              </Marker>\n              <Marker\n                lat={MAP_OPTIONS.center.lat + 0.1}\n                lng={MAP_OPTIONS.center.lng + 0.3}\n              >\n                <MarkerCentered\n                  style={{\n                    alignSelf,\n                    justifySelf,\n                  }}\n                  size={48}\n                  color={'Fuchsia'}\n                />\n              </Marker>\n              <Marker\n                lat={MAP_OPTIONS.center.lat - 0.1}\n                lng={MAP_OPTIONS.center.lng - 0.3}\n              >\n                <MarkerCorner\n                  style={{\n                    alignSelf,\n                    justifySelf,\n                  }}\n                  size={48}\n                  color={'OrangeRed'}\n                />\n              </Marker>\n            </Overlay>\n          </Map>\n        )}\n      </Ratio>\n    </div>\n  );\n}\n\nconst MarkerBottom = ({ size, color, style }) => (\n  <svg\n    style={style}\n    xmlns=\"http://www.w3.org/2000/svg\"\n    height={size}\n    width={size}\n    viewBox=\"2 2 20 20\"\n    fill={color}\n  >\n    <path d=\"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z\" />\n    <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n  </svg>\n);\n\nconst MarkerCentered = ({ size, color, style }) => (\n  <svg\n    style={style}\n    xmlns=\"http://www.w3.org/2000/svg\"\n    height={size}\n    viewBox=\"0 0 24 24\"\n    width={size}\n    fill={color}\n  >\n    <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n    <path d=\"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z\" />\n  </svg>\n);\n\nconst MarkerCorner = ({ size, color, style }) => (\n  <svg\n    style={style}\n    xmlns=\"http://www.w3.org/2000/svg\"\n    height={size}\n    viewBox=\"3 3 18 18\"\n    width={size}\n    fill={color}\n  >\n    <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\n    <path d=\"M21 3L3 10.53v.98l6.84 2.65L12.48 21h.98L21 3z\" />\n  </svg>\n);\n\nexport const getStaticProps = async () => {\n  // The best is to place this method at _app.js but this doesn't work now\n  const doc = await import('../dev-src/doc');\n  return doc.getStaticProps();\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AARA;;AAWA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAMA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AAFA;AAIA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AAFA;AAIA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAeA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAVA;AACA;AAaA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAVA;AACA;AAaA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAVA;;;;A","sourceRoot":""}