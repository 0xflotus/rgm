{"version":3,"file":"static/webpack/static/development/pages/geojson.js.f9e3addc5b8673d23bc0.hot-update.js","sources":["webpack:///./pages/geojson.js"],"sourcesContent":["// @flow\n\n/**\n * <!-- {\"order\": 3} -->\n *\n * # Show geojson\n *\n * Get instances of [google.maps.Map](https://developers.google.com/maps/documentation/javascript/reference/map)\n * class and instance of _google.maps_ using _useMap_ hook.\n *\n * Then using [google api datalayer](https://developers.google.com/maps/documentation/javascript/datalayer) and\n * [api reference](https://developers.google.com/maps/documentation/javascript/reference/data)\n * just add geojson using _React.useEffect_ hook\n *\n */\n\nimport * as React from 'react';\nimport { Map, useMap } from 'rgm';\nimport { useGoogleApiLoader } from '../dev-src/hooks';\nimport { Ratio } from '../dev-src/controls';\n\n// https://developers.google.com/maps/documentation/javascript/reference/map#MapOptions\nconst MAP_OPTIONS = {\n  zoom: 13,\n  center: {\n    lat: 46.22212,\n    lng: 6.14156,\n  },\n  // disable cmd-zoom and 2 fingers zoom I personally dislike it\n  gestureHandling: 'greedy',\n  clickableIcons: false,\n};\n\nconst BG_STYLE = {\n  fillColor: 'transparent',\n  strokeColor: 'white',\n  strokeWeight: 6,\n  strokeOpacity: 1,\n  cursor: 'hand',\n};\n\nconst FG_STYLE = {\n  fillColor: 'transparent',\n  strokeColor: 'blue',\n  strokeWeight: 2,\n  strokeOpacity: 1,\n  cursor: 'hand',\n};\n\n// https://developers.google.com/maps/documentation/javascript/datalayer\n// https://developers.google.com/maps/documentation/javascript/reference/data\nconst GeoJson = ({ children }) => {\n  const { map } = useMap();\n\n  React.useEffect(() => {\n    let style = BG_STYLE;\n    // To prevent style blink we override style inside addListener\n    const addFeatureListener = map.data.addListener('addfeature', event => {\n      map.data.overrideStyle(event.feature, style);\n    });\n\n    const features = [];\n    // Add background white shaped border for better visibility\n    features.push(...map.data.addGeoJson(children));\n\n    // Add foreground  thinner border with primary color\n    style = FG_STYLE;\n    features.push(...map.data.addGeoJson(children));\n\n    addFeatureListener.remove();\n\n    return () => {\n      features.forEach(feature => map.data.remove(feature));\n    };\n  }, [map, children]);\n\n  return null;\n};\n\nexport default function GeoJSONPage() {\n  const api = useGoogleApiLoader();\n\n  return (\n    <Ratio value={3 / 4}>\n      {api && (\n        <Map api={api} options={MAP_OPTIONS}>\n          <GeoJson>{geoJSON}</GeoJson>\n        </Map>\n      )}\n    </Ratio>\n  );\n}\n\nconst geoJSON = {\n  type: 'Feature',\n  geometry: {\n    type: 'MultiPolygon',\n    coordinates: [\n      [\n        [\n          [6.166701, 46.224467],\n          [6.165925, 46.222455],\n          [6.1619, 46.215224],\n          [6.155766, 46.217359],\n          [6.151245, 46.216282],\n          [6.151087, 46.215332],\n          [6.150485, 46.215169],\n          [6.1509, 46.214227],\n          [6.150811, 46.214036],\n          [6.14938, 46.214312],\n          [6.149151, 46.214004],\n          [6.1494, 46.213891],\n          [6.148978, 46.213333],\n          [6.149199, 46.213245],\n          [6.149111, 46.213092],\n          [6.148458, 46.213299],\n          [6.148611, 46.213478],\n          [6.148046, 46.213725],\n          [6.14791, 46.213552],\n          [6.146289, 46.214207],\n          [6.146402, 46.214354],\n          [6.146021, 46.214516],\n          [6.145856, 46.214388],\n          [6.145229, 46.214795],\n          [6.145365, 46.214889],\n          [6.144523, 46.215537],\n          [6.140424, 46.215467],\n          [6.140431, 46.214992],\n          [6.140001, 46.214473],\n          [6.140495, 46.21431],\n          [6.140344, 46.213461],\n          [6.139154, 46.211822],\n          [6.138298, 46.212118],\n          [6.137611, 46.212103],\n          [6.137077, 46.212714],\n          [6.136788, 46.212579],\n          [6.136173, 46.21166],\n          [6.136793, 46.21125],\n          [6.136433, 46.210877],\n          [6.135918, 46.210767],\n          [6.136631, 46.210466],\n          [6.136455, 46.210278],\n          [6.135874, 46.210503],\n          [6.135143, 46.210281],\n          [6.135855, 46.209982],\n          [6.135933, 46.208969],\n          [6.135134, 46.20892],\n          [6.135138, 46.20837],\n          [6.1349, 46.208432],\n          [6.134884, 46.208718],\n          [6.133399, 46.209087],\n          [6.133291, 46.20889],\n          [6.132011, 46.209076],\n          [6.131403, 46.209387],\n          [6.131373, 46.209693],\n          [6.130356, 46.210561],\n          [6.129696, 46.210564],\n          [6.12969, 46.210818],\n          [6.129369, 46.21082],\n          [6.129375, 46.211045],\n          [6.129688, 46.211046],\n          [6.129688, 46.211504],\n          [6.12927, 46.211496],\n          [6.129271, 46.212405],\n          [6.129008, 46.212523],\n          [6.129764, 46.213246],\n          [6.129716, 46.213667],\n          [6.128841, 46.213665],\n          [6.127625, 46.214193],\n          [6.126112, 46.214342],\n          [6.125746, 46.214032],\n          [6.123964, 46.214867],\n          [6.124292, 46.215172],\n          [6.121739, 46.215671],\n          [6.119726, 46.216991],\n          [6.120624, 46.217769],\n          [6.122338, 46.216739],\n          [6.123393, 46.21744],\n          [6.124565, 46.217508],\n          [6.125727, 46.218289],\n          [6.126099, 46.218014],\n          [6.127509, 46.219169],\n          [6.128824, 46.220001],\n          [6.129532, 46.219521],\n          [6.129983, 46.219778],\n          [6.129575, 46.22013],\n          [6.130436, 46.220747],\n          [6.130256, 46.220853],\n          [6.130676, 46.221195],\n          [6.130523, 46.221425],\n          [6.130902, 46.221833],\n          [6.13211, 46.221023],\n          [6.13235, 46.221201],\n          [6.132201, 46.221296],\n          [6.133093, 46.221871],\n          [6.132963, 46.221989],\n          [6.133836, 46.222724],\n          [6.132913, 46.223371],\n          [6.133926, 46.224313],\n          [6.132755, 46.22515],\n          [6.131471, 46.22413],\n          [6.131008, 46.224101],\n          [6.129367, 46.225315],\n          [6.128872, 46.225032],\n          [6.127637, 46.22607],\n          [6.127951, 46.226179],\n          [6.128475, 46.225855],\n          [6.130178, 46.227029],\n          [6.12872, 46.228056],\n          [6.127686, 46.227353],\n          [6.126543, 46.22806],\n          [6.127468, 46.228897],\n          [6.127947, 46.2286],\n          [6.128718, 46.228867],\n          [6.131004, 46.230645],\n          [6.131211, 46.230302],\n          [6.132606, 46.230318],\n          [6.133546, 46.231009],\n          [6.133079, 46.231614],\n          [6.132808, 46.231513],\n          [6.132062, 46.232115],\n          [6.132336, 46.232319],\n          [6.131997, 46.232603],\n          [6.132238, 46.232774],\n          [6.131869, 46.233055],\n          [6.132281, 46.233307],\n          [6.132955, 46.23278],\n          [6.134405, 46.233909],\n          [6.135986, 46.234248],\n          [6.136307, 46.234193],\n          [6.137361, 46.233404],\n          [6.13613, 46.232762],\n          [6.136964, 46.231991],\n          [6.138166, 46.231296],\n          [6.135923, 46.230627],\n          [6.136604, 46.230069],\n          [6.13744, 46.228493],\n          [6.137943, 46.228181],\n          [6.139237, 46.228034],\n          [6.13947, 46.228662],\n          [6.138837, 46.228839],\n          [6.138821, 46.22961],\n          [6.138533, 46.230292],\n          [6.142864, 46.2293],\n          [6.143428, 46.230636],\n          [6.143698, 46.230099],\n          [6.145883, 46.228727],\n          [6.145576, 46.227293],\n          [6.146152, 46.226945],\n          [6.146293, 46.227101],\n          [6.146995, 46.226354],\n          [6.148206, 46.226053],\n          [6.148941, 46.227792],\n          [6.166701, 46.224467],\n        ],\n      ],\n    ],\n  },\n};\n\nexport const getStaticProps = async () => {\n  // The best is to place this method at _app.js but this doesn't work now\n  const doc = await import('../dev-src/doc');\n  return doc.getStaticProps();\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAEA;;;;;;;;;;;;;AAcA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AARA;AAWA;AACA;AACA;AACA;AACA;AACA;AALA;AAQA;AACA;AACA;AACA;AACA;AACA;AALA;AASA;AACA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAEA;AACA;AACA;AACA;AACA;AAFA;AAFA;;;;A","sourceRoot":""}